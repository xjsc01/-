# 4.1-云计算数据中心

> 云计算数据中心——支撑云计算服务的数据中心。
>
> 数据中心往往是用大量服务器通过巨大的互连网络构建而成
>
> 

## 云数据中心设计与特征

### 相关概念

- 资源池 resource pool
  云计算数据中心提供的**物理或虚拟资源的聚合**。内部各资源池之间相互依赖相互支撑
- 弹性 elasticity
  云计算数据中心的**场地、设施和资源池按需分配、回收和调整**的能力
- 数据中心 data center
  由计算机场地、配套基础设施、信息系统硬件(物理和虚拟资源)、信息系统软件、信息资源(数据)和人员以及相应的规章制度组成的组织。
- 云计算数据中心 cloud computing data center
  支撑云计算服务的数据中心。

#### 资源池详细介绍

![image-20240108210625906](4.1-云计算数据中心.assets/image-20240108210625906.png)

![image-20240108210633151](4.1-云计算数据中心.assets/image-20240108210633151.png)

#### 电能使用效率

![image-20240108210717914](4.1-云计算数据中心.assets/image-20240108210717914.png)

### 云计算数据中心规模巨大

数据中心通常由大量服务器通过庞大的互连网络构建而成，云计算的基础之一就是大规模的数据中心。

典型情况下，数据中心可以容纳从40万台到100万台不等的服务器。这种规模化的结构带来了成本效益，因为较大规模的数据中心通常拥有更低的单位成本。

**总结而言，数据中心的规模越大，单位成本越低。**

<img src="4.1-云计算数据中心.assets/image-20240108211232644.png" alt="image-20240108211232644" style="zoom:50%;" />

数据中心规模范围从“边缘”设施到超大规模（100K 到 1M 服务器）

同时，国内新建立的数据中心以大型和超大型为主。

![image-20240108211551071](4.1-云计算数据中心.assets/image-20240108211551071.png)

### 云数据中心的几个特征

1. **高设备利用率**

   采用**虚拟化技术**进行系统和数据中心整合,优化资源利用率、简化管理。

2. **绿色节能**

   通过先进的**供电和散热技术**，降低数据中心的能耗。

3. **高可用性**

   当网络扩展或升级时，网络能够正常运行，对网络的性能影响不大。

4. **自动化管理**

   云数据中心应是24×7小时，无人值守并可远程管理的。

### 云计算数据中心的关键要素

![image-20240108211941709](4.1-云计算数据中心.assets/image-20240108211941709.png)

### 云存储系统

![image-20240108212050610](4.1-云计算数据中心.assets/image-20240108212050610.png)

在云中存储的主要类型有三种：

1. 文件存储
2. 块存储
3. 对象存储、key-value存储

![img](https://pic2.zhimg.com/80/v2-fddd228f961a4d2d5a526e171dfba0f5_1440w.webp)

#### 常见的存储软件

• Ceph（分布式存储）对象存储、块存储和文件存储 -C++

• Redis（key-value数据库） -NoSQL支持每秒十几万次的读/写操作 -C语言

• Mongodb（内存数据库）-基于分布式文件存储的开源NoSQL数据库系统， C++

### 我国概括

![image-20240108212859249](4.1-云计算数据中心.assets/image-20240108212859249.png)

## 云数据中心网络部署

### 需要满足的要求

数据中心关键的核心设计是数据中心集群中所有服 务器之间的互连网络，其中的网络设计必须满足5个特 殊要求：

1. 低延迟
2. 高带宽
3. 低成本
4. 消息传递接口（MP I） 通信支持
5. 容错

同时要满足：所有服务器节点之间的

- 点对点通信模式：在这种模式下，一个服务器节点直接与另一个服务器节点进行通信，就像两个节点之间建立了一个直接的连接。
- 群通信模式：在这种模式下，一个服务器节点可以同时与多个其他节点进行通信，形成一个群组或广播。

![image-20240108213303264](4.1-云计算数据中心.assets/image-20240108213303264.png)

### 传统架构

![image-20240108213426036](4.1-云计算数据中心.assets/image-20240108213426036.png)

### 不同的网络体系结构对比

![image-20240108213521927](4.1-云计算数据中心.assets/image-20240108213521927-1704720923337-1.png)

### 新型的网络部署架构

#### 改进型树结构--FatTree

![image-20240108213954300](4.1-云计算数据中心.assets/image-20240108213954300.png)

![image-20240108214000703](4.1-云计算数据中心.assets/image-20240108214000703.png)

![image-20240108214037833](4.1-云计算数据中心.assets/image-20240108214037833.png)

![image-20240108214132186](4.1-云计算数据中心.assets/image-20240108214132186.png)

#### 递归层次结构

![image-20240108214318287](4.1-云计算数据中心.assets/image-20240108214318287.png)

![image-20240108214325880](4.1-云计算数据中心.assets/image-20240108214325880.png)

![image-20240108214349457](4.1-云计算数据中心.assets/image-20240108214349457.png)

#### 光交换网络

![image-20240108214441060](4.1-云计算数据中心.assets/image-20240108214441060.png)

![image-20240108214507315](4.1-云计算数据中心.assets/image-20240108214507315.png)

#### 无线数据中心网络

![image-20240108214547107](4.1-云计算数据中心.assets/image-20240108214547107.png)

1. 优点：无线技术可以在不必进行重新布线的情况下灵活调整拓扑，省去了复杂的布线工作
2. 缺点、不足：
3. 但无线技术在提供足  够带宽的前提下，其传输距离是有限的，因而限制了其在大规模数据中心的部署。

#### 软件定义网络

分离控制平面和数据转发平面。传统网络中，网络设备（如交换机和路由器）通常集成了控制逻辑和数据处理功能，这使得网络管理和配置相对固定和复杂。SDN将这两个平面分离开来，控制平面负责网络管理和控制，而数据转发平面负责实际的数据包转发。
优点（Advantages）：

1. 灵活性：SDN允许网络管理员根据需要轻松配置和调整网络，以满足不同的应用需求。
2. 集中化管理：中心化的管理使网络更容易监控和维护。
3. 自动化：SDN能够自动响应流量和需求变化，提高网络效率。
4. **可编程性**：管理员可以使用软件定义网络的控制器来自定义网络行为。
5. 流量工程：SDN可实现流量工程以优化数据包的路由和传输。

缺点（Disadvantages）：

1. 安全风险：中心控制器成为攻击目标可能导致安全问题。
2. 高成本：部署SDN可能需要更高的初期投资。
3. 可扩展性：对于大规模网络，SDN可能需要更多的资源和规划。
4. 标准化问题：SDN标准仍在发展中，可能存在互操作性问题。
5. 服务器的处理性能可能制约其规模的发展。
6. 存在单点故障。

![image-20240108214725503](4.1-云计算数据中心.assets/image-20240108214725503.png)

![image-20240108214802231](4.1-云计算数据中心.assets/image-20240108214802231.png)

![image-20240108214831706](4.1-云计算数据中心.assets/image-20240108214831706.png)

Google 在其广域网数据中心已经大规模使用基于  OpenFlow的SDN技术，通过10G网络链接分布全球的12个数据中心， 实现了  数据中心的流量工程和实  时管控功能， 使其数据中  心的核心网络带宽利用率  提高到了100% ，谷歌将自  己的SDN网络命名为为B4， 其网络结构图如图所示。

![image-20240108214903358](4.1-云计算数据中心.assets/image-20240108214903358.png)

## 绿色节能技术

### 现状

能耗分布

![image-20240108220007324](4.1-云计算数据中心.assets/image-20240108220007324.png)

**如何进行电力成本估算：**

![0a5d01b0-ba36-48b6-bb3c-be172a5e9b63](4.1-云计算数据中心.assets/0a5d01b0-ba36-48b6-bb3c-be172a5e9b63.png)

![image-20240108220302644](4.1-云计算数据中心.assets/image-20240108220302644.png)

## 自动化管理

## 容灾备份

